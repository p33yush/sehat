<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kerala Health Records - Health Administration Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="admin-dashboard.css">
    <!-- Include jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="header">
        <div class="logo">
            <div class="logo-icon">
                <img src="../assets/finallogo.png" alt="Kerala Health Records Logo" style="width: 100%; height: 100%; object-fit: contain;">
            </div>
            <div class="logo-text">
                <h1>SEHAT</h1>
            </div>
        </div>
        
        <div class="search-bar">
            <input type="text" placeholder="Search patients, records, reports...">
        </div>
        
        <div class="header-right">
            <select class="language-selector">
                <option>English</option>
                <option>മലയാളം</option>
                <option>हिन्दी</option>
                <option>বাংলা</option>
            </select>
            
            <div class="notification-badge" id="notificationTrigger">
                🔔
                <span class="notification-badge-count" id="notificationCount">0</span>
            </div>
            
            <div class="user-info" id="adminInfoTrigger">
                👤 Health Administrator
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Historic & <span class="highlight">Unparalleled</span> Achievement!</h1>
                <p>Kerala's comprehensive health management system for migrant workers - ensuring healthcare access for all.</p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-stat-number">12,456</div>
                        <div class="hero-stat-label">Registered Workers</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number">78.5%</div>
                        <div class="hero-stat-label">Vaccination Coverage</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number">89</div>
                        <div class="hero-stat-label">Health Centers</div>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-icon"><img src="../assets/hospital_img.jpg" alt="Hero Icon" class="hero-icon"></div>
            </div>
        </div>
    </div>

    <!-- Notification Overlay -->
    <div class="notification-overlay" id="notificationOverlay">
        <div class="notification-panel">
            <div class="notification-header">
                <h3>
                    Notifications
                    <button class="notification-close" id="notificationClose">×</button>
                </h3>
            </div>
            
            <div class="notification-tabs">
                <button class="notification-tab active" data-tab="all">All</button>
                <button class="notification-tab" data-tab="migrant">Migrant Workers</button>
                <button class="notification-tab" data-tab="health">Health Centers</button>
                <button class="notification-tab" data-tab="system">System</button>
            </div>
            
            <div class="notification-content" id="notificationContent">
                <!-- Notifications will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Health Administrator Info Popup -->
    <div class="admin-popup-overlay" id="adminPopupOverlay">
        <div class="admin-popup">
            <div class="admin-popup-header">
                <h2>👤 Health Administrator Profile</h2>
                <button class="admin-close-btn" id="adminCloseBtn">×</button>
            </div>
            
            <div class="admin-popup-content">
                <div class="admin-profile-section">
                    <div class="admin-avatar">
                        <div class="admin-avatar-placeholder">👨‍⚕️</div>
                    </div>
                    <div class="admin-basic-info">
                        <h3>Dr. Rajesh Kumar</h3>
                        <p class="admin-title">Chief Health Administrator</p>
                        <p class="admin-department">Kerala Health Department</p>
                    </div>
                </div>
                
                <div class="admin-details-section">
                    <div class="admin-detail-row">
                        <span class="admin-detail-label"> Email:</span>
                        <span class="admin-detail-value">rajesh.kumar@keralahealth.gov.in</span>
                    </div>
                    <div class="admin-detail-row">
                        <span class="admin-detail-label"> Phone:</span>
                        <span class="admin-detail-value">+91 98765 43210</span>
                    </div>
                    <div class="admin-detail-row">
                        <span class="admin-detail-label"> Office:</span>
                        <span class="admin-detail-value">Health Secretariat, Thiruvananthapuram</span>
                    </div>
                    <div class="admin-detail-row">
                        <span class="admin-detail-label"> Last Login:</span>
                        <span class="admin-detail-value">Today, 09:30 AM</span>
                    </div>
                    <div class="admin-detail-row">
                        <span class="admin-detail-label"> Access Level:</span>
                        <span class="admin-detail-value admin-access-level">Super Administrator</span>
                    </div>
                </div>
                
                <div class="admin-permissions-section">
                    <h4> System Permissions</h4>
                    <div class="admin-permissions-grid">
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon">👥</span>
                            <span class="admin-permission-text">Migrant Worker Management</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon"></span>
                            <span class="admin-permission-text">Health Center Oversight</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon"></span>
                            <span class="admin-permission-text">Report Generation</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon"></span>
                            <span class="admin-permission-text">System Configuration</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon"></span>
                            <span class="admin-permission-text">Notification Management</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                        <div class="admin-permission-item">
                            <span class="admin-permission-icon"></span>
                            <span class="admin-permission-text">User Management</span>
                            <span class="admin-permission-status active">Active</span>
                        </div>
                    </div>
                </div>
                
                <div class="admin-stats-section">
                    <h4> Administrator Statistics</h4>
                    <div class="admin-stats-grid">
                        <div class="admin-stat-item">
                            <div class="admin-stat-number">2,456</div>
                            <div class="admin-stat-label">Workers Managed</div>
                        </div>
                        <div class="admin-stat-item">
                            <div class="admin-stat-number">89</div>
                            <div class="admin-stat-label">Health Centers</div>
                        </div>
                        <div class="admin-stat-item">
                            <div class="admin-stat-number">156</div>
                            <div class="admin-stat-label">Reports Generated</div>
                        </div>
                        <div class="admin-stat-item">
                            <div class="admin-stat-number">98.5%</div>
                            <div class="admin-stat-label">System Uptime</div>
                        </div>
                    </div>
                </div>
                
                <div class="admin-actions-section">
                    <button class="admin-action-btn admin-action-primary">
                         Edit Profile
                    </button>
                    <button class="admin-action-btn admin-action-secondary">
                         Change Password
                    </button>
                    <button class="admin-action-btn admin-action-secondary">
                         View Activity Log
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Lab Report Export Overlay -->
    <div class="export-overlay" id="exportOverlay">
        <div class="export-panel">
            <div class="export-header">
                <h3>
                    📄 Export Lab Report
                </h3>
                <button class="export-close" id="exportClose">×</button>
            </div>
            
            <div class="export-content">
                <div class="alert-info">
                    Generate comprehensive lab reports for Kerala migrant workers with customizable parameters and PDF export functionality.
                </div>
                
                <div class="export-section">
                    <div class="export-section-title">
                        ⚙️ Report Configuration
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Report Type</label>
                            <select class="form-select" id="reportType">
                                <option value="comprehensive">Comprehensive Health Report</option>
                                <option value="vaccination">Vaccination Status Report</option>
                                <option value="disease">Disease Surveillance Report</option>
                                <option value="emergency">Emergency Health Alert Report</option>
                                <option value="statistical">Statistical Analysis Report</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Date Range</label>
                            <select class="form-select" id="dateRange">
                                <option value="last7">Last 7 days</option>
                                <option value="last30">Last 30 days</option>
                                <option value="last90">Last 90 days</option>
                                <option value="last365">Last 365 days</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Region</label>
                            <select class="form-select" id="regionFilter">
                                <option value="all">All Regions</option>
                                <option value="kochi">Kochi</option>
                                <option value="kozhikode">Kozhikode</option>
                                <option value="thrissur">Thrissur</option>
                                <option value="palakkad">Palakkad</option>
                                <option value="malappuram">Malappuram</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Worker Category</label>
                            <select class="form-select" id="workerCategory">
                                <option value="all">All Categories</option>
                                <option value="construction">Construction Workers</option>
                                <option value="domestic">Domestic Workers</option>
                                <option value="agricultural">Agricultural Workers</option>
                                <option value="industrial">Industrial Workers</option>
                                <option value="service">Service Workers</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="export-section">
                    <div class="export-section-title">
                        📊 Data Sections to Include
                    </div>
                    
                    <div class="checkbox-group">
                        <div class="checkbox-item" data-section="demographics">
                            <input type="checkbox" id="demographics" checked>
                            <label for="demographics">Worker Demographics</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="health-status">
                            <input type="checkbox" id="health-status" checked>
                            <label for="health-status">Health Status Overview</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="vaccination">
                            <input type="checkbox" id="vaccination" checked>
                            <label for="vaccination">Vaccination Records</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="diseases">
                            <input type="checkbox" id="diseases" checked>
                            <label for="diseases">Disease Surveillance</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="alerts">
                            <input type="checkbox" id="alerts" checked>
                            <label for="alerts">Health Alerts & Incidents</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="providers">
                            <input type="checkbox" id="providers">
                            <label for="providers">Healthcare Provider Stats</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="trends">
                            <input type="checkbox" id="trends">
                            <label for="trends">Trend Analysis</label>
                        </div>
                        
                        <div class="checkbox-item" data-section="recommendations">
                            <input type="checkbox" id="recommendations">
                            <label for="recommendations">Recommendations</label>
                        </div>
                    </div>
                </div>

                <div class="export-section">
                    <div class="export-section-title">
                        👁️ Report Preview
                    </div>
                    <div class="export-preview" id="reportPreview">
                        Loading preview...
                    </div>
                </div>

                <div class="progress-section" id="progressSection">
                    <div style="font-weight: 500; margin-bottom: 8px;">Generating Report...</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="progressBar"></div>
                    </div>
                    <div id="progressText" style="font-size: 12px; color: #6b7280; margin-top: 4px;">
                        Initializing...
                    </div>
                </div>
            </div>
            
            <div class="export-actions">
                <button class="btn-export btn-export-secondary" id="previewBtn">
                    👁️ Preview Report
                </button>
                <button class="btn-export btn-export-primary" id="exportPdfBtn">
                    <span class="loading-spinner" id="exportSpinner"></span>
                    📄 Export as PDF
                </button>
            </div>
        </div>
    </div>

    <!-- Add Patient Popup -->
    <div class="patient-popup-overlay" id="patientPopupOverlay">
        <div class="patient-popup">
            <div class="patient-popup-header">
                <h2>👤 Add New Patient</h2>
                <button class="close-btn" onclick="closeAddPatientPopup()">&times;</button>
            </div>
            
            <form class="patient-form" id="patientForm">
                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="dateOfBirth">Date of Birth *</label>
                            <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                        </div>
                        <div class="form-group">
                            <label for="gender">Gender *</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phoneNumber">Phone Number *</label>
                            <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="+91 98765 43210" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" placeholder="patient@example.com">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Address Information</h3>
                    <div class="form-group">
                        <label for="address">Address *</label>
                        <textarea id="address" name="address" rows="3" placeholder="Enter full address" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="district">District *</label>
                            <select id="district" name="district" required>
                                <option value="">Select District</option>
                                <option value="thiruvananthapuram">Thiruvananthapuram</option>
                                <option value="kollam">Kollam</option>
                                <option value="pathanamthitta">Pathanamthitta</option>
                                <option value="alappuzha">Alappuzha</option>
                                <option value="kottayam">Kottayam</option>
                                <option value="idukki">Idukki</option>
                                <option value="ernakulam">Ernakulam</option>
                                <option value="thrissur">Thrissur</option>
                                <option value="palakkad">Palakkad</option>
                                <option value="malappuram">Malappuram</option>
                                <option value="kozhikode">Kozhikode</option>
                                <option value="wayanad">Wayanad</option>
                                <option value="kannur">Kannur</option>
                                <option value="kasaragod">Kasaragod</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="pincode">Pincode *</label>
                            <input type="text" id="pincode" name="pincode" placeholder="123456" required>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Health Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bloodGroup">Blood Group</label>
                            <select id="bloodGroup" name="bloodGroup">
                                <option value="">Select Blood Group</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="emergencyContact">Emergency Contact *</label>
                            <input type="tel" id="emergencyContact" name="emergencyContact" placeholder="+91 98765 43210" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="medicalHistory">Medical History</label>
                        <textarea id="medicalHistory" name="medicalHistory" rows="3" placeholder="Any existing medical conditions, allergies, or medications"></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Work Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workType">Type of Work *</label>
                            <select id="workType" name="workType" required>
                                <option value="">Select Work Type</option>
                                <option value="construction">Construction</option>
                                <option value="agriculture">Agriculture</option>
                                <option value="manufacturing">Manufacturing</option>
                                <option value="domestic">Domestic Work</option>
                                <option value="hospitality">Hospitality</option>
                                <option value="transport">Transport</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="workLocation">Work Location *</label>
                            <input type="text" id="workLocation" name="workLocation" placeholder="Company/Workplace name" required>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddPatientPopup()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Patient</button>
                </div>
            </form>
        </div>
    </div>

    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title">Health Administration Panel</h1>
            <p class="page-subtitle">Kerala Migrant Worker Health Management System</p>
            
            <div class="action-buttons">
                
                <button class="btn btn-primary" id="sendAlertBtn">🚨 Send Alert</button>
                
            </div>
        </div>

        <div class="stats-row">
            <div class="stat-card clickable-card" id="workersCard" data-card-type="workers">
                <div class="icon" style="background: var(--secondary-teal); color: var(--primary-teal);">📊</div>
                <div class="number">12,456</div>
                <div class="label">Total Registered Workers</div>
                <div class="sublabel">456 new registrations this month</div>
                <div class="click-hint">Click to view details</div>
            </div>
            
            <div class="stat-card clickable-card" id="vaccinationCard" data-card-type="vaccination">
                <div class="icon" style="background: var(--light-teal); color: var(--success-green);">💉</div>
                <div class="number">78.5%</div>
                <div class="label">Vaccination Coverage</div>
                <div class="sublabel">Target 85% by March 2024</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 78.5%"></div>
                </div>
                <div class="click-hint">Click to view details</div>
            </div>
            
            <div class="stat-card clickable-card" id="alertsCard" data-card-type="alerts">
                <div class="icon" style="background: #fef3c7; color: var(--warning-orange);">⚠️</div>
                <div class="number">7</div>
                <div class="label">Active Health Alerts</div>
                <div class="sublabel">2 high priority, 3 medium priority</div>
                <div class="click-hint">Click to view details</div>
            </div>
            
            <div class="stat-card clickable-card" id="providersCard" data-card-type="providers">
                <div class="icon" style="background: var(--secondary-teal); color: var(--accent-teal);">🏥</div>
                <div class="number">89</div>
                <div class="label">Healthcare Providers</div>
                <div class="sublabel">6 hospitals, 83 health centers</div>
                <div class="click-hint">Click to view details</div>
            </div>
        </div>

        <!-- Platform Analytics Section -->
        <div class="analytics-section">
            <div class="section-header">
                <h2 class="section-title">Platform Analytics</h2>
                <p class="section-subtitle">Comprehensive insights into Kerala's migrant worker health management system</p>
            </div>
            
            <!-- Analytics Grid -->
            <div class="analytics-grid">
                <!-- Health Trends Chart -->
                <div class="analytics-card chart-card">
                    <div class="card-header">
                        <h3> Health Trends Over Time</h3>
                        <div class="chart-controls">
                            <select class="time-filter">
                                <option value="7d">Last 7 Days</option>
                                <option value="30d" selected>Last 30 Days</option>
                                <option value="90d">Last 90 Days</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="healthTrendsChart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <span class="legend-color" style="background: #3b82f6;"></span>
                            <span>Respiratory Issues</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #10b981;"></span>
                            <span>Vaccinations</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #f59e0b;"></span>
                            <span>Emergency Cases</span>
                        </div>
                    </div>
                </div>

                <!-- Regional Distribution -->
                <div class="analytics-card">
                    <div class="card-header">
                        <h3>Regional Distribution</h3>
                        <span class="card-subtitle">Worker distribution across Kerala districts</span>
                    </div>
                    <div class="regional-stats">
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Kochi</span>
                                <span class="region-count">2,456</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 85%; background: linear-gradient(90deg, #3b82f6, #1d4ed8);"></div>
                            </div>
                            <span class="region-percentage">19.7%</span>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Thrissur</span>
                                <span class="region-count">2,123</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 73%; background: linear-gradient(90deg, #10b981, #059669);"></div>
                            </div>
                            <span class="region-percentage">17.0%</span>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Kozhikode</span>
                                <span class="region-count">1,890</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 65%; background: linear-gradient(90deg, #f59e0b, #d97706);"></div>
                            </div>
                            <span class="region-percentage">15.2%</span>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Palakkad</span>
                                <span class="region-count">1,756</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 60%; background: linear-gradient(90deg, #8b5cf6, #7c3aed);"></div>
                            </div>
                            <span class="region-percentage">14.1%</span>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Malappuram</span>
                                <span class="region-count">1,623</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 55%; background: linear-gradient(90deg, #ef4444, #dc2626);"></div>
                            </div>
                            <span class="region-percentage">13.0%</span>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <span class="region-name">Others</span>
                                <span class="region-count">2,608</span>
                            </div>
                            <div class="region-bar">
                                <div class="region-fill" style="width: 90%; background: linear-gradient(90deg, #6b7280, #4b5563);"></div>
                            </div>
                            <span class="region-percentage">20.9%</span>
                        </div>
                    </div>
                </div>

                <!-- Vaccination Progress -->
                <div class="analytics-card progress-card">
                    <div class="card-header">
                        <h3>Vaccination Progress</h3>
                        <span class="card-subtitle">Immunization coverage by vaccine type</span>
                    </div>
                    <div class="vaccination-progress">
                        <div class="vaccine-item">
                            <div class="vaccine-info">
                                <span class="vaccine-name">COVID-19</span>
                                <span class="vaccine-coverage">89.2%</span>
                            </div>
                            <div class="progress-ring">
                                <svg class="progress-ring-svg" width="60" height="60">
                                    <circle class="progress-ring-circle" cx="30" cy="30" r="25" fill="transparent" stroke="#e5e7eb" stroke-width="4"/>
                                    <circle class="progress-ring-circle progress-ring-fill" cx="30" cy="30" r="25" fill="transparent" stroke="#3b82f6" stroke-width="4" stroke-dasharray="157" stroke-dashoffset="17" style="--progress: 89.2;"/>
                                </svg>
                                <span class="progress-text">89%</span>
                            </div>
                        </div>
                        <div class="vaccine-item">
                            <div class="vaccine-info">
                                <span class="vaccine-name">Hepatitis B</span>
                                <span class="vaccine-coverage">76.8%</span>
                            </div>
                            <div class="progress-ring">
                                <svg class="progress-ring-svg" width="60" height="60">
                                    <circle class="progress-ring-circle" cx="30" cy="30" r="25" fill="transparent" stroke="#e5e7eb" stroke-width="4"/>
                                    <circle class="progress-ring-circle progress-ring-fill" cx="30" cy="30" r="25" fill="transparent" stroke="#10b981" stroke-width="4" stroke-dasharray="157" stroke-dashoffset="36" style="--progress: 76.8;"/>
                                </svg>
                                <span class="progress-text">77%</span>
                            </div>
                        </div>
                        <div class="vaccine-item">
                            <div class="vaccine-info">
                                <span class="vaccine-name">Tetanus</span>
                                <span class="vaccine-coverage">82.1%</span>
                            </div>
                            <div class="progress-ring">
                                <svg class="progress-ring-svg" width="60" height="60">
                                    <circle class="progress-ring-circle" cx="30" cy="30" r="25" fill="transparent" stroke="#e5e7eb" stroke-width="4"/>
                                    <circle class="progress-ring-circle progress-ring-fill" cx="30" cy="30" r="25" fill="transparent" stroke="#f59e0b" stroke-width="4" stroke-dasharray="157" stroke-dashoffset="28" style="--progress: 82.1;"/>
                                </svg>
                                <span class="progress-text">82%</span>
                            </div>
                        </div>
                        <div class="vaccine-item">
                            <div class="vaccine-info">
                                <span class="vaccine-name">Measles</span>
                                <span class="vaccine-coverage">68.5%</span>
                            </div>
                            <div class="progress-ring">
                                <svg class="progress-ring-svg" width="60" height="60">
                                    <circle class="progress-ring-circle" cx="30" cy="30" r="25" fill="transparent" stroke="#e5e7eb" stroke-width="4"/>
                                    <circle class="progress-ring-circle progress-ring-fill" cx="30" cy="30" r="25" fill="transparent" stroke="#8b5cf6" stroke-width="4" stroke-dasharray="157" stroke-dashoffset="49" style="--progress: 68.5;"/>
                                </svg>
                                <span class="progress-text">69%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Health Center Performance -->
                <div class="analytics-card performance-card">
                    <div class="card-header">
                        <h3>Health Center Performance</h3>
                        <span class="card-subtitle">Top performing health centers this month</span>
                    </div>
                    <div class="performance-list">
                        <div class="performance-item">
                            <div class="performance-rank">1</div>
                            <div class="performance-info">
                                <span class="center-name">Kochi Health Center</span>
                                <span class="center-metrics">1,245 patients • 98.5% satisfaction</span>
                            </div>
                            <div class="performance-score">
                                <span class="score-value">98.5</span>
                                <span class="score-label">Score</span>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-rank">2</div>
                            <div class="performance-info">
                                <span class="center-name">Thrissur District Hospital</span>
                                <span class="center-metrics">987 patients • 97.2% satisfaction</span>
                            </div>
                            <div class="performance-score">
                                <span class="score-value">97.2</span>
                                <span class="score-label">Score</span>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-rank">3</div>
                            <div class="performance-info">
                                <span class="center-name">Kozhikode Health Center</span>
                                <span class="center-metrics">756 patients • 96.8% satisfaction</span>
                            </div>
                            <div class="performance-score">
                                <span class="score-value">96.8</span>
                                <span class="score-label">Score</span>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-rank">4</div>
                            <div class="performance-info">
                                <span class="center-name">Palakkad Medical Center</span>
                                <span class="center-metrics">623 patients • 95.1% satisfaction</span>
                            </div>
                            <div class="performance-score">
                                <span class="score-value">95.1</span>
                                <span class="score-label">Score</span>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-rank">5</div>
                            <div class="performance-info">
                                <span class="center-name">Malappuram Emergency Unit</span>
                                <span class="center-metrics">1,089 patients • 94.7% satisfaction</span>
                            </div>
                            <div class="performance-score">
                                <span class="score-value">94.7</span>
                                <span class="score-label">Score</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Disease Surveillance -->
                <div class="analytics-card surveillance-card">
                    <div class="card-header">
                        <h3>Disease Surveillance</h3>
                        <span class="card-subtitle">Real-time monitoring of health conditions</span>
                    </div>
                    <div class="surveillance-grid">
                        <div class="surveillance-item low-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Respiratory Infections</span>
                                <span class="condition-count">23 cases</span>
                            </div>
                            <div class="trend-indicator positive">↗ +15%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Dengue Cases</span>
                                <span class="condition-count">5 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 0%</div>
                        </div>
                        <div class="surveillance-item low-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Skin Conditions</span>
                                <span class="condition-count">12 cases</span>
                            </div>
                            <div class="trend-indicator positive">↗ +8%</div>
                        </div>
                        <div class="surveillance-item high-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Work Injuries</span>
                                <span class="condition-count">18 cases</span>
                            </div>
                            <div class="trend-indicator negative">↗ +5%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Hepatitis cases</span>
                                <span class="condition-count">2 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 3%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">HIV/Aids cases</span>
                                <span class="condition-count">20 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 5%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Diphtheria cases</span>
                                <span class="condition-count">15 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 20%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Tuberculosis (TB) cases</span>
                                <span class="condition-count">3 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 1%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Rabies cases</span>
                                <span class="condition-count">40 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 30%</div>
                        </div>
                        <div class="surveillance-item medium-risk">
                            <div class="risk-indicator"></div>
                            <div class="surveillance-info">
                                <span class="condition-name">Flu cases</span>
                                <span class="condition-count">9 cases</span>
                            </div>
                            <div class="trend-indicator stable">→ 7%</div>
                        </div>
                    </div>
                </div>

                <!-- System Health -->
                <div class="analytics-card system-card">
                    <div class="card-header">
                        <h3>System Health</h3>
                        <span class="card-subtitle">Platform performance and uptime</span>
                    </div>
                    <div class="system-metrics">
                        <div class="metric-item">
                            <div class="metric-icon">🖥️</div>
                            <div class="metric-info">
                                <span class="metric-name">Server Uptime</span>
                                <span class="metric-value">99.9%</span>
                            </div>
                            <div class="metric-status online">Online</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">💾</div>
                            <div class="metric-info">
                                <span class="metric-name">Database Performance</span>
                                <span class="metric-value">98.5%</span>
                            </div>
                            <div class="metric-status online">Optimal</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">🌐</div>
                            <div class="metric-info">
                                <span class="metric-name">API Response Time</span>
                                <span class="metric-value">45ms</span>
                            </div>
                            <div class="metric-status online">Fast</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">🔒</div>
                            <div class="metric-info">
                                <span class="metric-name">Security Status</span>
                                <span class="metric-value">100%</span>
                            </div>
                            <div class="metric-status online">Secure</div>
                        </div>
                    </div>
                </div>

                <!-- Real-time Activity Feed -->
                <div class="analytics-card activity-card">
                    <div class="card-header">
                        <h3>Real-time Activity</h3>
                        <div class="live-indicator">
                            <span class="live-dot"></span>
                            <span>Live</span>
                        </div>
                    </div>
                    <div class="activity-feed">
                        <div class="activity-item">
                            <div class="activity-icon">👤</div>
                            <div class="activity-content">
                                <div class="activity-text">New patient registered at Kochi Health Center</div>
                                <div class="activity-time">2 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">💉</div>
                            <div class="activity-content">
                                <div class="activity-text">Vaccination completed for 15 workers in Thrissur</div>
                                <div class="activity-time">5 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🏥</div>
                            <div class="activity-content">
                                <div class="activity-text">Health screening scheduled for tomorrow</div>
                                <div class="activity-time">8 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">📋</div>
                            <div class="activity-content">
                                <div class="activity-text">Monthly report generated for Palakkad</div>
                                <div class="activity-time">12 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🚨</div>
                            <div class="activity-content">
                                <div class="activity-text">Health alert sent to Malappuram region</div>
                                <div class="activity-time">15 minutes ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional Analytics Sections -->
            <div class="analytics-grid analytics-grid-2">
                <!-- Monthly Trends Comparison -->
                <div class="analytics-card trends-card">
                    <div class="card-header">
                        <h3>Monthly Trends</h3>
                        <div class="trend-controls">
                            <button class="trend-btn active" data-trend="registrations">Registrations</button>
                            <button class="trend-btn" data-trend="vaccinations">Vaccinations</button>
                            <button class="trend-btn" data-trend="alerts">Alerts</button>
                        </div>
                    </div>
                    <div class="trends-container">
                        <canvas id="monthlyTrendsChart" width="400" height="200"></canvas>
                    </div>
                    <div class="trend-summary">
                        <div class="trend-stat">
                            <span class="trend-label">This Month</span>
                            <span class="trend-value positive">+12.5%</span>
                        </div>
                        <div class="trend-stat">
                            <span class="trend-label">vs Last Month</span>
                            <span class="trend-value positive">+8.3%</span>
                        </div>
                        <div class="trend-stat">
                            <span class="trend-label">vs Last Year</span>
                            <span class="trend-value positive">+24.7%</span>
                        </div>
                    </div>
                </div>

                <!-- Worker Demographics -->
                <div class="analytics-card demographics-card">
                    <div class="card-header">
                        <h3>Worker Demographics</h3>
                        <span class="card-subtitle">Age and gender distribution</span>
                    </div>
                    <div class="demographics-content">
                        <div class="demographics-chart">
                            <canvas id="demographicsChart" width="300" height="200"></canvas>
                        </div>
                        <div class="demographics-stats">
                            <div class="demo-stat">
                                <div class="demo-label">Average Age</div>
                                <div class="demo-value">32.4 years</div>
                            </div>
                            <div class="demo-stat">
                                <div class="demo-label">Male Workers</div>
                                <div class="demo-value">63.2%</div>
                            </div>
                            <div class="demo-stat">
                                <div class="demo-label">Female Workers</div>
                                <div class="demo-value">36.8%</div>
                            </div>
                            <div class="demo-stat">
                                <div class="demo-label">New This Week</div>
                                <div class="demo-value">127</div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Health Risk Assessment -->
                <div class="analytics-card risk-card">
                    <div class="card-header">
                        <h3>Health Risk Assessment</h3>
                        <span class="card-subtitle">Current risk levels by category</span>
                    </div>
                    <div class="risk-matrix">
                        <div class="risk-category low-risk">
                            <div class="risk-header">
                                <span class="risk-title">Low Risk</span>
                                <span class="risk-count">8,456</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 68%; background: #10b981;"></div>
                            </div>
                            <span class="risk-percentage">68%</span>
                        </div>
                        <div class="risk-category medium-risk">
                            <div class="risk-header">
                                <span class="risk-title">Medium Risk</span>
                                <span class="risk-count">2,891</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 23%; background: #f59e0b;"></div>
                            </div>
                            <span class="risk-percentage">23%</span>
                        </div>
                        <div class="risk-category high-risk">
                            <div class="risk-header">
                                <span class="risk-title">High Risk</span>
                                <span class="risk-count">1,109</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 9%; background: #ef4444;"></div>
                            </div>
                            <span class="risk-percentage">9%</span>
                        </div>
                    </div>
                    <div class="risk-actions">
                        <button class="btn-small btn-primary">View Details</button>
                        <button class="btn-small btn-secondary">Export Report</button>
                    </div>
                </div>

                <!-- Resource Utilization -->
                <div class="analytics-card resource-card">
                    <div class="card-header">
                        <h3>Resource Utilization</h3>
                        <span class="card-subtitle">System and facility usage</span>
                    </div>
                    <div class="resource-grid">
                        <div class="resource-item">
                            <div class="resource-icon">🏥</div>
                            <div class="resource-info">
                                <div class="resource-name">Health Centers</div>
                                <div class="resource-usage">89/100</div>
                                <div class="resource-bar">
                                    <div class="resource-fill" style="width: 89%; background: #3b82f6;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-icon">👨‍⚕️</div>
                            <div class="resource-info">
                                <div class="resource-name">Medical Staff</div>
                                <div class="resource-usage">156/200</div>
                                <div class="resource-bar">
                                    <div class="resource-fill" style="width: 78%; background: #10b981;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-icon">💊</div>
                            <div class="resource-info">
                                <div class="resource-name">Medical Supplies</div>
                                <div class="resource-usage">67/100</div>
                                <div class="resource-bar">
                                    <div class="resource-fill" style="width: 67%; background: #f59e0b;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-icon">🚗</div>
                            <div class="resource-info">
                                <div class="resource-name">Ambulance Fleet</div>
                                <div class="resource-usage">23/30</div>
                                <div class="resource-bar">
                                    <div class="resource-fill" style="width: 77%; background: #8b5cf6;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Emergency Response -->
                <div class="analytics-card emergency-card">
                    <div class="card-header">
                        <h3>Emergency Response</h3>
                        <div class="emergency-status">
                            <span class="status-dot online"></span>
                            <span>All Systems Operational</span>
                        </div>
                    </div>
                    <div class="emergency-metrics">
                        <div class="emergency-stat">
                            <div class="stat-icon">⏱️</div>
                            <div class="stat-content">
                                <div class="stat-label">Avg Response Time</div>
                                <div class="stat-value">4.2 min</div>
                            </div>
                        </div>
                        <div class="emergency-stat">
                            <div class="stat-icon">📞</div>
                            <div class="stat-content">
                                <div class="stat-label">Active Calls</div>
                                <div class="stat-value">3</div>
                            </div>
                        </div>
                        <div class="emergency-stat">
                            <div class="stat-icon">🚑</div>
                            <div class="stat-content">
                                <div class="stat-label">Ambulances Deployed</div>
                                <div class="stat-value">2</div>
                            </div>
                        </div>
                        <div class="emergency-stat">
                            <div class="stat-icon">✅</div>
                            <div class="stat-content">
                                <div class="stat-label">Resolved Today</div>
                                <div class="stat-value">12</div>
                            </div>
                        </div>
                    </div>
                    <div class="emergency-actions">
                        <button class="btn-small btn-danger">Emergency Alert</button>
                        <button class="btn-small btn-secondary">View Logs</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Health Analytics & Surveillance - Full Width -->
        <div class="card" style="margin-bottom: 30px;">
            <div class="card-header">
                <div>
                    <div class="card-title">Health Analytics & Surveillance</div>
                    <div class="card-subtitle">Real-time health monitoring and disease trends</div>
                </div>
                <a href="#" class="view-details">View Details</a>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; margin-bottom: 20px;">
                <div>
                    <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Disease Trends</div>
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">Respiratory Infections</div>
                            <div class="metric-period">This month</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">23</div>
                            <div class="change-indicator change-positive">↗ +15%</div>
                        </div>
                    </div>
                    
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">Dengue Cases</div>
                            <div class="metric-period">Last 7 days</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">5</div>
                            <div class="status-badge status-low">New Cases</div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Vaccination Status</div>
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">Skin Conditions</div>
                            <div class="metric-period">This month</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">12</div>
                            <div class="change-indicator change-positive">↗ +8%</div>
                        </div>
                    </div>
                    
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">Work Injuries</div>
                            <div class="metric-period">This month</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">18</div>
                            <div class="change-indicator change-negative">↗ +5%</div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Health Coverage</div>
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">COVID-19 Vaccination</div>
                            <div class="metric-period">Overall coverage</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">89.2%</div>
                            <div class="change-indicator change-positive">↗ +2.1%</div>
                        </div>
                    </div>
                    
                    <div class="metric-row">
                        <div class="metric-info">
                            <div class="metric-name">Health Screening</div>
                            <div class="metric-period">This month</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="metric-value">2,456</div>
                            <div class="change-indicator change-positive">↗ +12%</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Recent Health Alerts</div>
                
                <div class="alert-item">
                    <div class="alert-title">Dengue Outbreak Alert</div>
                    <div class="alert-desc">5 confirmed cases in Ernakulam district</div>
                    <div style="margin-top: 8px;">
                        <span class="status-badge status-high">High</span>
                    </div>
                </div>
                
                <div class="alert-item medium">
                    <div class="alert-title">Vaccination Drive Reminder</div>
                    <div class="alert-desc">Hepatitis B booster campaign due</div>
                    <div style="margin-top: 8px;">
                        <span class="status-badge status-medium">Medium</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Three Cards in Flexbox Layout -->
        <div style="display: flex; gap: 20px; margin-bottom: 30px;">
            <!-- System Status Card -->
            <div class="card" style="flex: 1;">
                <div class="card-header">
                    <div>
                        <div class="card-title">System Status</div>
                    </div>
                </div>
                
                <div class="metric-row">
                    <div class="metric-name">Database</div>
                    <span class="status-badge status-online">Online</span>
                </div>
                
                <div class="metric-row">
                    <div class="metric-name">API Services</div>
                    <span class="status-badge status-operational">Operational</span>
                </div>
                
                <div class="metric-row">
                    <div class="metric-name">Data Sync</div>
                    <span class="status-badge status-active">Active</span>
                </div>
                
                <div class="metric-row">
                    <div class="metric-name">Backup</div>
                    <span class="status-badge status-green">Complete</span>
                </div>
            </div>
            
            <!-- Regional Centers Card -->
            <div class="card" style="flex: 1;">
                <div class="card-header">
                    <div>
                        <div class="card-title">Regional Centers</div>
                    </div>
                </div>
                
                <div class="center-item">
                    <div>
                        <div class="center-name">Kochi</div>
                        <div class="center-info">1.2k workers</div>
                    </div>
                    <span class="status-badge status-active">Active</span>
                </div>
                
                <div class="center-item">
                    <div>
                        <div class="center-name">Kozhikode</div>
                        <div class="center-info">890 workers</div>
                    </div>
                    <span class="status-badge status-active">Active</span>
                </div>
                
                <div class="center-item">
                    <div>
                        <div class="center-name">Thrissur</div>
                        <div class="center-info">1.5k workers</div>
                    </div>
                    <span class="status-badge status-operational">Operational</span>
                </div>
                
                <div class="center-item">
                    <div>
                        <div class="center-name">Palakkad</div>
                        <div class="center-info">678 workers</div>
                    </div>
                    <span class="status-badge status-active">Active</span>
                </div>
                
                <div class="center-item">
                    <div>
                        <div class="center-name">Malappuram</div>
                        <div class="center-info">1.1k workers</div>
                    </div>
                    <span class="status-badge status-active">Active</span>
                </div>
            </div>
            
            <!-- Administrative Actions Card -->
            <div class="card" style="flex: 1;">
                <div class="card-header">
                    <div>
                        <div class="card-title">Administrative Actions</div>
                    </div>
                </div>
                
                <div class="action-item">
                    <div class="action-icon action-success"></div>
                    <div>
                        <div class="metric-name">Send Health Alert</div>
                    </div>
                </div>
                
                <div class="action-item">
                    <div class="action-icon action-primary"></div>
                    <div>
                        <div class="metric-name">Generate Report</div>
                    </div>
                </div>
                
                <div class="action-item">
                    <div class="action-icon action-gray"></div>
                    <div>
                        <div class="metric-name">Schedule Campaign</div>
                    </div>
                </div>
                
                <div class="action-item">
                    <div class="action-icon action-gray"></div>
                    <div>
                        <div class="metric-name">Manage Providers</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Data Popups -->
    <!-- Workers Details Popup -->
    <div class="popup" id="workersDetailsPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h2>👥 Registered Workers Details</h2>
                <button class="close-btn" onclick="closeWorkersDetailsPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <div class="details-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Workers</span>
                        <span class="summary-value">12,456</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">New This Month</span>
                        <span class="summary-value">456</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Active Workers</span>
                        <span class="summary-value">11,892</span>
                    </div>
                </div>
                
                <div class="details-section">
                    <h3>Registration Trends</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <!-- Registration Trend Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Monthly Registration Trends</div>
                            <div style="position: relative; height: 200px;">
                                <canvas id="registrationTrendChart" width="300" height="180"></canvas>
                            </div>
                        </div>
                        
                        <!-- Registration Sources Pie Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Registration Sources</div>
                            <div style="position: relative; height: 200px; display: flex; align-items: center; justify-content: center;">
                                <canvas id="registrationSourceChart" width="180" height="180"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Key Metrics -->
                    <div class="data-list">
                        <div class="data-item">
                            <span class="data-label">This Week</span>
                            <span class="data-value">127 new registrations</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Last Week</span>
                            <span class="data-value">98 new registrations</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Monthly Average</span>
                            <span class="data-value">456 registrations</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Peak Day</span>
                            <span class="data-value">Tuesday (42 registrations)</span>
                        </div>
                    </div>
                </div>

                <div class="details-section">
                    <h3>Regional Distribution</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <!-- Regional Distribution Pie Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">District Distribution</div>
                            <div style="position: relative; height: 200px; display: flex; align-items: center; justify-content: center;">
                                <canvas id="regionalDistributionChart" width="180" height="180"></canvas>
                            </div>
                        </div>
                        
                        <!-- Regional Growth Bar Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Growth by District</div>
                            <div style="position: relative; height: 200px;">
                                <canvas id="regionalGrowthChart" width="300" height="180"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- District Details -->
                    <div class="data-list">
                        <div class="data-item">
                            <span class="data-label">Kochi</span>
                            <span class="data-value">2,456 workers (19.7%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Thrissur</span>
                            <span class="data-value">2,123 workers (17.0%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Kozhikode</span>
                            <span class="data-value">1,987 workers (15.9%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Thiruvananthapuram</span>
                            <span class="data-value">1,845 workers (14.8%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Other Districts</span>
                            <span class="data-value">4,045 workers (32.6%)</span>
                        </div>
                    </div>
                </div>

                <div class="details-section">
                    <h3>Demographics</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <!-- Gender Distribution Pie Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Gender Distribution</div>
                            <div style="position: relative; height: 200px; display: flex; align-items: center; justify-content: center;">
                                <canvas id="genderDistributionChart" width="180" height="180"></canvas>
                            </div>
                        </div>
                        
                        <!-- Age Distribution Bar Chart -->
                        <div>
                            <div style="font-weight: 600; color: #6b7280; font-size: 14px; margin-bottom: 12px;">Age Distribution</div>
                            <div style="position: relative; height: 200px;">
                                <canvas id="ageDistributionChart" width="300" height="180"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Demographics Details -->
                    <div class="data-list">
                        <div class="data-item">
                            <span class="data-label">Male Workers</span>
                            <span class="data-value">7,834 (62.8%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Female Workers</span>
                            <span class="data-value">4,622 (37.2%)</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Average Age</span>
                            <span class="data-value">32.4 years</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Age Range</span>
                            <span class="data-value">18-65 years</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Most Common Age Group</span>
                            <span class="data-value">26-35 years (33.1%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vaccination Details Popup -->
    

    <!-- Health Alerts Details Popup -->
    <div class="popup" id="alertsDetailsPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Active Health Alerts Details</h2>
                <button class="close-btn" onclick="closeAlertsDetailsPopup()">&times;</button>
            </div>
                
                <div class="details-section">
                    <h3> High Priority Alerts</h3>
                    <div class="alert-list">
                        <div class="alert-item high-priority">
                            <div class="alert-header">
                                <span class="alert-title">Respiratory Infection Outbreak</span>
                                <span class="alert-priority">HIGH</span>
                            </div>
                            <div class="alert-details">
                                <span class="alert-location">Kochi Health Center</span>
                                <span class="alert-date">March 8, 2024</span>
                            </div>
                            <div class="alert-description">
                                15 workers reported with respiratory symptoms. Immediate screening required.
                            </div>
                        </div>
                        <div class="alert-item high-priority">
                            <div class="alert-header">
                                <span class="alert-title">Water Contamination Alert</span>
                                <span class="alert-priority">HIGH</span>
                            </div>
                            <div class="alert-details">
                                <span class="alert-location">Thrissur District</span>
                                <span class="alert-date">March 7, 2024</span>
                            </div>
                            <div class="alert-description">
                                Water source contamination detected. Health advisory issued to all workers.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="details-section">
                    <h3> Medium Priority Alerts</h3>
                    <div class="alert-list">
                        <div class="alert-item medium-priority">
                            <div class="alert-header">
                                <span class="alert-title">Vaccination Coverage Low</span>
                                <span class="alert-priority">MEDIUM</span>
                            </div>
                            <div class="alert-details">
                                <span class="alert-location">Kozhikode Region</span>
                                <span class="alert-date">March 6, 2024</span>
                            </div>
                        </div>
                        <div class="alert-item medium-priority">
                            <div class="alert-header">
                                <span class="alert-title">Medical Supply Shortage</span>
                                <span class="alert-priority">MEDIUM</span>
                            </div>
                            <div class="alert-details">
                                <span class="alert-location">Palakkad Health Center</span>
                                <span class="alert-date">March 5, 2024</span>
                            </div>
                        </div>
                        <div class="alert-item medium-priority">
                            <div class="alert-header">
                                <span class="alert-title">Staff Shortage</span>
                                <span class="alert-priority">MEDIUM</span>
                            </div>
                            <div class="alert-details">
                                <span class="alert-location">Malappuram District</span>
                                <span class="alert-date">March 4, 2024</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Healthcare Providers Details Popup -->
    <div class="popup" id="providersDetailsPopup">
        <div class="popup-content">
            <div class="popup-header">
                <h2> Healthcare Providers Details</h2>
                <button class="close-btn" onclick="closeProvidersDetailsPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <div class="details-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Providers</span>
                        <span class="summary-value">89</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Hospitals</span>
                        <span class="summary-value">6</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Health Centers</span>
                        <span class="summary-value">83</span>
                    </div>
                </div>

                <div class="details-section">
                    <h3>Health Centers by District</h3>
                    <div class="data-list">
                        <div class="data-item">
                            <span class="data-label">Kochi</span>
                            <span class="data-value">15 health centers</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Thrissur</span>
                            <span class="data-value">12 health centers</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Kozhikode</span>
                            <span class="data-value">11 health centers</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Thiruvananthapuram</span>
                            <span class="data-value">10 health centers</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Other Districts</span>
                            <span class="data-value">35 health centers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="admin-dashboard.js"></script>
</body>
</html>
